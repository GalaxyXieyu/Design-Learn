# 未完成功能盘查（基于当前实现逻辑）

> 当前逻辑口径：在配置 MCP 时由 MCP/stdio 自动启动本地服务；Chrome 插件自动连接本地服务。本文仅盘点**仍未完成**或**尚未对齐 PRD 蓝图**的部分。

## 未完成（当前只剩 3 项）

### 1) REST CRUD API 仍未补齐

PRD 设想的资源管理 API（示例）尚未落地或未完整：
- `/api/designs`：Design 列表/详情/创建/更新/删除
- `/api/snapshots`：Snapshot 列表/详情/导入/删除
- `/api/config`：模型/模板/提取选项等配置的读取/写入

现状（已有的主要是导入链路与健康检查）：
- `GET /api/health`
- `POST /api/import/browser`
- `POST /api/import/url`
- `GET /api/import/jobs`
- `GET /api/import/stream`（SSE 进度）

### 2) MCP 工具集未完成

现状 MCP tools 主要只有：
- `ping`
- `list_designs`
- `get_design`

PRD/目标中提到但尚未落地的方向（按常用度排序）：
- `search_*`：按关键词/标签/URL 搜索 designs/components
- `get_rules`：获取某个 design/version 的规则（colors/typography/spacing/components…）
- `list_versions` / `get_version`：按版本查询（而不是只返回 design 元信息）
- `list_components` / `get_component`：组件级检索与获取代码/结构化数据
- `import_*`/`extract_*`：以 MCP 方式触发导入/提取与查询进度（可选）

> 建议：先补齐 “可检索 + 可精确读取” 的 MCP 工具，再考虑“触发提取/写入”类工具。

### 3) Nanobanana 组件预览生成未实现

PRD 中的“组件预览图生成（Nanobanana）”链路目前未落地：
- 组件预览生成任务/队列
- 预览产物存储（image/url）与查询接口（REST/MCP）
- 失败重试与配额/成本控制

现状：数据层存在 `preview` 字段/存储位，但没有看到自动生成与回填流程。
