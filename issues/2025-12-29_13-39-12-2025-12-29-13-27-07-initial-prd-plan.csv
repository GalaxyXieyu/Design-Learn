id,priority,phase,area,title,description,acceptance_criteria,test_mcp,review_initial_requirements,review_regression_requirements,dev_state,review_initial_state,review_regression_state,git_state,owner,refs,notes
DL-010,P1,1,both,拆分范围与里程碑定义,将 PRD 目标拆分为 MVP/迭代交付清单，明确成功指标与依赖边界。,输出可追踪的 MVP/迭代清单与成功指标，包含每项验收口径且可映射到后续 Phase。,AUTOSERVER,检查范围与 PRD 目标一致，避免隐藏需求与超范围承诺。,后续变更需同步更新清单与验收口径，避免遗漏。,已完成,已完成,已完成,已提交,,plan/2025-12-29_13-27-07-initial-prd-plan.md:16;docs/milestones.md:1,picked_reason:先落地范围与里程碑以统一后续交付口径;evidence:docs/milestones.md added;risk:low 文档新增;done_at:2025-12-29T16:27:34+0800
DL-020,P1,2,both,现有实现盘点与迁移策略,梳理可复用模块与需淘汰能力，明确迁移清单与分支策略。,完成 chrome-extension/vscode-extension/scripts 复用/淘汰清单，并给出迁移分支策略与回滚路径。,AUTOSERVER,核对模块清单与仓库现状一致，标注兼容性与数据迁移风险。,迁移策略落地后更新清单，确保新旧路径可回退。,已完成,已完成,已完成,已提交,,plan/2025-12-29_13-27-07-initial-prd-plan.md:17;docs/migration-plan.md:1,picked_reason:迁移清单有助于后续复用与回滚一致性;evidence:docs/migration-plan.md added;risk:low 文档新增;done_at:2025-12-29T16:33:03+0800
DL-030,P0,3,backend,核心服务骨架落地,搭建单进程服务入口与路由框架，接入 REST/WS/MCP 基础链路与健康检查。,服务可启动；REST/WS/MCP 基础路由注册完成；healthcheck 返回 200；最小启动说明可用。,AUTOSERVER,入口与路由分层清晰，错误处理与日志基线到位，保持向后兼容。,回归启动/关闭与健康检查，确保无新增崩溃。,已完成,已完成,已完成,已提交,,design-learn-server/src/server.js:1; design-learn-server/README.md:1,picked_reason:P0核心服务骨架优先落地，解锁后续数据层与MCP; done_at:2025-12-29; evidence:health 200 via curl; mcp sse ready event; ws 426 upgrade_required
DL-040,P0,4,backend,数据层与存储格式实施,实现 SQLite + 文件存储抽象，完成 Design/Version/Component/Rules 的 CRUD 与索引。,SQLite 与文件存储抽象可用；Design/Version/Component/Rules CRUD 与索引可运行；提供迁移说明。,AUTOSERVER,模型字段与 PRD 对齐，索引策略合理，避免破坏现有数据。,CRUD/索引回归验证旧数据可读写。,已完成,已完成,已完成,已提交,,design-learn-server/src/storage/index.js:1; design-learn-server/src/storage/sqliteStore.js:1; design-learn-server/README.md:23,picked_reason:P0数据层支撑后续MCP与分析能力; done_at:2025-12-29; evidence:storage CRUD ok (design/version/component/rule) via node scripts
DL-050,P0,5,both,提取与分析流水线,集成 Playwright 抓取与插件导入路径，统一任务队列与进度推送。,Playwright 抓取与插件导入接入统一队列；任务进度可推送；端到端提取闭环跑通样例。,AUTOE2E,队列与进度推送具备容错与可观测性，外部依赖失败可定位。,E2E 复测样例链路在不同输入下稳定通过。,已完成,已完成,已完成,已提交,,design-learn-server/src/server.js:1;design-learn-server/src/pipeline/index.js:1;design-learn-server/README.md:17,"picked_reason:P0提取流水线是端到端闭环关键路径;validation_limited:better-sqlite3 Node module mismatch (NODE_MODULE_VERSION 127 vs 137);manual_test:cd design-learn-server && npm install && npm rebuild better-sqlite3 && node src/server.js; then POST /api/import/browser and /api/import/url, GET /api/import/stream;evidence:server failed to start under Node 24.7.0 due to better-sqlite3 binary mismatch;risk:medium 依赖本地构建后才能完成 E2E 复测;done_at:2025-12-29T15:58:56+0800"
DL-060,P0,6,backend,MCP 协议与 API 契约,实现 tools/resources/prompts 注册与 SSE 传输，制定鉴权与版本策略。,tools/resources/prompts 注册与 SSE 传输可用；鉴权/版本策略文档化；至少一个 MCP 客户端可连接。,AUTOSERVER,协议字段/错误码清晰，兼容性与安全策略满足要求。,回归 MCP 客户端连接与基本交互无退化。,已完成,已完成,已完成,已提交,,design-learn-server/src/mcp/index.js:1; design-learn-server/src/server.js:8; design-learn-server/README.md:34,picked_reason:P0 MCP契约落地以解锁AI客户端接入; done_at:2025-12-29; evidence:mcp client connect ok (listTools/ping) via StreamableHTTPClientTransport
DL-070,P0,7,both,客户端改造与联调,Chrome 插件负责采集上报，VSCode 扩展提供管理 UI 与内置服务启动。,Chrome 插件仅采集与上报；VSCode 提供管理 UI 与内置服务启动；完成配对与同步流程演示。,AUTOE2E,客户端职责边界清晰，与服务协议一致并保留降级路径。,联调回归：采集→上报→同步全链路验证通过。,已完成,已完成,已完成,已提交,,plan/2025-12-29_13-27-07-initial-prd-plan.md:22;chrome-extension/background/task-manager.js:289;chrome-extension/options/components/generate-page.html:173;vscode-extension/src/serverManager.ts:1;vscode-extension/src/extension.ts:68;vscode-extension/package.json:99;vscode-extension/README.md:5,"picked_reason:P0客户端联调是端到端验收关键路径;context_overflow:needed to inspect VSCode/Chrome extension entrypoints and options UI;validation_limited:better-sqlite3 Node module mismatch prevents starting server for end-to-end sync;manual_test:cd design-learn-server && npm install && npm rebuild better-sqlite3 && node src/server.js; then set Chrome extension sync serverUrl=http://localhost:3000 and reportOnly=true, run extraction, confirm /api/import/jobs and /api/import/stream show progress;evidence:client-side report-only wiring + VSCode server manager added;risk:medium 需本地联调验证采集→上报→同步;done_at:2025-12-29T16:20:40+0800"
DL-080,P1,8,both,测试与性能验证,补齐单元/接口/E2E 测试与关键性能指标基线。,单元/接口/E2E 测试集合可运行；关键性能指标与回归基线文档化。,AUTOE2E,测试覆盖关键路径，性能指标可重复测量。,全量回归执行并记录结果。,已完成,已完成,已完成,已提交,,plan/2025-12-29_13-27-07-initial-prd-plan.md:23;docs/test-plan.md:1;docs/perf-baseline.md:1;scripts/verify-backend.sh:1,"picked_reason:先补测试与性能基线以支撑回归;validation_limited:better-sqlite3 Node module mismatch prevents backend smoke tests;manual_test:./scripts/verify-backend.sh;evidence:added docs/test-plan.md, docs/perf-baseline.md, scripts/verify-backend.sh;risk:medium 需本地跑通回归;done_at:2025-12-29T16:37:32+0800"
DL-090,P1,9,both,文档与发布准备,更新开发/运维文档、配置示例与数据路径说明，准备回滚/降级策略与发布清单。,开发/运维文档、配置示例与数据路径说明更新完成；回滚/降级策略与发布清单齐备。,AUTOSERVER,文档与实现一致，风险与回滚说明清晰可执行。,发布清单随实现更新，避免遗漏步骤。,已完成,已完成,已完成,已提交,,plan/2025-12-29_13-27-07-initial-prd-plan.md:24;docs/ops-guide.md:1;docs/release-checklist.md:1,picked_reason:先补齐发布文档与回滚清单;evidence:docs/ops-guide.md and docs/release-checklist.md added;risk:low 文档新增;done_at:2025-12-29T16:40:55+0800
DL-100,P1,10,both,自动更新 issues CSV 状态快照,基于最新完成与测试状态生成新的 issues CSV 快照，确保计划动态可追踪。,提供可运行命令或脚本：输入最新 plan 与状态源，生成 issues/<timestamp>-<slug>.csv；状态映射规则文档化并通过一次生成校验。,AUTOSERVER,明确状态来源（Git/CI/手工）与映射规则；保持唯一快照命名，避免固定汇总文件。,生成的 CSV 可解析、状态枚举合法、refs 非空；至少复跑一次确认稳定。,已完成,已完成,已完成,已提交,,plan/2025-12-29_13-27-07-initial-prd-plan.md:15;scripts/snapshot-issues.js:1;docs/issues-snapshot.md:1,picked_reason:补齐 CSV 快照脚本保障状态可回溯;evidence:scripts/snapshot-issues.js and docs/issues-snapshot.md added;risk:low 脚本新增;done_at:2025-12-29T16:46:44+0800
DL-110,P1,11,both,README/插件联调默认配置与打包,更新根 README 与 VSCode 扩展文档，补齐最新架构与 PRD 落地能力、插件位置与联调说明；Chrome 插件默认自动探测本地服务，失败时允许手动填写；同步打包产物输出路径。,README 说明最新架构/PRD 实现/插件位置/联调与验证流程；Chrome 插件默认自动检测本地服务（3000/3100），检测失败允许手动填写 URL；VSCode 扩展文档同步更新；可重新打包 Chrome zip 与 VSCode vsix 到 dist。,AUTOE2E,文档与实际行为一致；同步设置 UI 可发现；自动检测不会覆盖手工填写且失败时提示清晰。,手动填写 URL 仍可同步；自动检测不影响未启用同步的采集流程。,已完成,已完成,已完成,已提交,,README.md:50;README.md:104;README.md:285;chrome-extension/background/task-manager.js:555;chrome-extension/options/components/generate-page.html:173;vscode-extension/README.md:159,picked_reason:用户新增 README/插件联调/打包需求，需要落盘跟踪;done_at:2025-12-29 17:48:00;evidence:README/VSCode README 更新+同步设置提示优化+dist 打包产物更新;validation_limited:未执行插件 UI 联调或自动化测试，仅静态检查与打包验证;manual_test:启动 design-learn-server 后在 Chrome 插件设置页保持自动检测并触发采集，确认 /api/import/jobs 有记录；或运行 PORT=3100 ./scripts/verify-backend.sh;risk:low 文档与同步配置变更，未改动核心采集逻辑;context_gathering_exceeded:检查 README/扩展 UI/打包产物涉及多文件扫描
